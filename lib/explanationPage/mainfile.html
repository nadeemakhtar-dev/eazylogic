<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Flutter Notes App Setup Explanation</title>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    pre {
      background-color: #f8f9fa;
      padding: 10px;
      border: 1px solid #ced4da;
      border-radius: 5px;
      font-size: 0.9rem;
      white-space: pre-wrap;
    }
    code {
      color: #d63384;
      font-weight: bold;
    }
  </style>
</head>
<body>

<div class="container my-5">
  <h1 class="text-center mb-4">Flutter Notes App Setup Explanation</h1>

  <section>
    <h2>1. Main Application Code</h2>
    <p>This code initializes the Flutter app and sets up Hive for local database storage. Below is the full code:</p>
    <pre><code>import 'package:flutter/material.dart';
import 'package:hive/hive.dart';
import 'package:hive_flutter/hive_flutter.dart';
import 'package:hivedb/NoteAddScreen.dart';
import 'package:hivedb/models/note.dart';

void main() async {
  WidgetsFlutterBinding.ensureInitialized();
  await Hive.initFlutter();
  Hive.registerAdapter(NoteAdapter());

  await Hive.openBox&lt;Note&gt;('NotesBox');

  runApp(const MyApp());
}

class MyApp extends StatelessWidget {
  const MyApp({super.key});

  // This widget is the root of your application.
  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      debugShowCheckedModeBanner: false,
      title: 'Notes App Demo',
      theme: ThemeData(
        colorScheme: ColorScheme.fromSeed(seedColor: Colors.deepPurple),
        useMaterial3: true,
      ),
      home: const noteApp(title: 'Notes App Demo Page'),
    );
  }
}</code></pre>
  </section>

  <section>
    <h2>2. Explanation of the Code</h2>
    <p>Let's break down the Dart code to explain what each part does:</p>
    <ul>
      <li>
        <code>import 'package:flutter/material.dart';</code>:
        <p>Imports the Flutter Material package, which provides all the necessary widgets and UI components.</p>
      </li>
      <li>
        <code>import 'package:hive/hive.dart';</code> and <code>import 'package:hive_flutter/hive_flutter.dart';</code>:
        <p>Imports the Hive and Hive Flutter libraries to manage local data storage in the app using Hive, a lightweight NoSQL database for Flutter.</p>
      </li>
      <li>
        <code>import 'package:hivedb/NoteAddScreen.dart';</code> and <code>import 'package:hivedb/models/note.dart';</code>:
        <p>Imports the local project files. The <strong>NoteAddScreen</strong> is used for adding notes, while the <strong>Note</strong> model defines the structure of each note stored in the Hive database.</p>
      </li>
    </ul>
  </section>

  <section>
    <h2>3. <code>main()</code> Function</h2>
    <p>The <code>main()</code> function is the entry point of the Flutter application. It initializes Hive and sets up the application.</p>
    <pre><code>void main() async {
  WidgetsFlutterBinding.ensureInitialized();
  await Hive.initFlutter();
  Hive.registerAdapter(NoteAdapter());

  await Hive.openBox&lt;Note&gt;('NotesBox');

  runApp(const MyApp());
}</code></pre>

    <p><strong>Explanation:</strong></p>
    <ul>
      <li><code>WidgetsFlutterBinding.ensureInitialized();</code>: Ensures that Flutter is initialized before Hive starts. This is necessary when using asynchronous code in <code>main()</code>.</li>
      <li><code>Hive.initFlutter();</code>: Initializes Hive for use with Flutter.</li>
      <li><code>Hive.registerAdapter(NoteAdapter());</code>: Registers the <code>NoteAdapter</code>, which is the adapter responsible for serializing and deserializing the <code>Note</code> model.</li>
      <li><code>Hive.openBox&lt;Note&gt;('NotesBox');</code>: Opens a Hive box named <strong>NotesBox</strong> to store instances of the <code>Note</code> model.</li>
      <li><code>runApp(const MyApp());</code>: Runs the <strong>MyApp</strong> widget as the root of the Flutter application.</li>
    </ul>
  </section>

  <section>
    <h2>4. <code>MyApp</code> Class</h2>
    <p>The <code>MyApp</code> class is a <code>StatelessWidget</code> that represents the root widget of the application. It defines the app's title, theme, and starting page.</p>
    <pre><code>class MyApp extends StatelessWidget {
  const MyApp({super.key});

  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      debugShowCheckedModeBanner: false,
      title: 'Notes App Demo',
      theme: ThemeData(
        colorScheme: ColorScheme.fromSeed(seedColor: Colors.deepPurple),
        useMaterial3: true,
      ),
      home: const noteApp(title: 'Notes App Demo Page'),
    );
  }
}</code></pre>

    <p><strong>Explanation:</strong></p>
    <ul>
      <li><code>MaterialApp</code>: The root widget for the application, which provides navigation, theming, and layout.</li>
      <li><code>debugShowCheckedModeBanner: false</code>: Hides the debug banner in the top-right corner when running the app in development mode.</li>
      <li><code>title: 'Notes App Demo'</code>: Sets the title for the application, which appears in task switchers and the app's title bar.</li>
      <li><code>ThemeData</code>: Defines the app's theme. The <code>ColorScheme.fromSeed</code> method generates a color scheme based on a given seed color (<strong>deepPurple</strong> in this case).</li>
      <li><code>useMaterial3: true</code>: Enables Material 3 design in the app.</li>
      <li><code>home: const noteApp(title: 'Notes App Demo Page')</code>: Sets the home page of the application to <strong>noteApp</strong>, passing the title as a parameter.</li>
    </ul>
  </section>

  <section>
    <h2>5. Instructions for Setting Up Hive</h2>
    <p>To ensure that Hive works properly, follow these steps:</p>

    <h4>Step 1: Add Hive Dependencies</h4>
    <p>In your <code>pubspec.yaml</code> file, add the following dependencies:</p>
    <pre><code>dependencies:
  hive: ^2.0.5
  hive_flutter: ^1.1.0

dev_dependencies:
  hive_generator: ^1.1.0
  build_runner: ^2.0.0</code></pre>

    <h4>Step 2: Generate the <code>note.g.dart</code> File</h4>
    <p>In the terminal, run the following command to generate the <code>note.g.dart</code> file, which will be used by Hive to manage the <code>Note</code> model:</p>
    <pre><code>flutter pub run build_runner build</code></pre>

    <h4>Step 3: Open Hive Boxes</h4>
    <p>Ensure that boxes are opened before accessing data. For example:</p>
    <pre><code>await Hive.openBox&lt;Note&gt;('NotesBox');</code></pre>

    <h4>Step 4: Run the App</h4>
    <p>Once everything is set up, you can run the app using:</p>
    <pre><code>flutter run</code></pre>
  </section>
</div>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>
